#include <iostream>
#include <cmath>
#include <string>
#include <vector>
#include <algorithm>

using namespace std;

string to_binary_int(int num) {
	if (num == 0) {
		return "";
	}

	return to_binary_int(num / 2) + to_string(num % 2);
}

//порядок - сдвиг мантиссы
//мантиса - дробная часть

int main() {

	setlocale(LC_ALL, "RUSSIAN");
	double number = 48.25;
	int nonfloat = 0;

	double temp = number;

	while (temp > 1) {
		temp /= 2;
		nonfloat++;
	}

	nonfloat--;
	cout << "Степень двойки: " << nonfloat << endl;
	cout << "Нормализированная мантисса: " << temp << endl;

	vector <int> exponent;
	vector <int> mant;
	int sign;

	int count = 0;
	while (temp != 1) {
		if (temp > 1) {
			temp = abs(int(temp) - temp);
			mant.push_back(1);
		}
		else {
			mant.push_back(0);
		}

		temp *= 2;
		count++;
	}
	mant.push_back(1);
	temp++;

	int exp = count - 1;
	exp = pow(2, 7) - 1 + nonfloat;
	vector <int> final_num;

	if (number < 0) {
		sign = 1;
	}
	else {
		sign = 0;
	}

	for (int i = mant.size();  i < 23; i++) {
		mant.push_back(0);
	}

	cout << "Конечное представление: " << endl;
	cout << sign << "\t" << to_binary_int(exp) << "\t";
	for (int i = 2; i < mant.size(); i++) {
		cout << mant[i];
	}
	cout << endl;
}
